ggmap(map_korea)+
geom_point(data = mut_df_add, aes(x = lon, y = lat), colour = 'green', size = 4)+
geom_text(data=libname,aes(label=name,vjust=-1))
library(leaflet)
library(dplyr)
library(ggmap)
seoul_lonlat <- geocode("seoul")
map0 <- leaflet() %>% setView(lng = seoul_lonlat$lon, lat = seoul_lonlat$lat, zoom = 16)  # 위치 정보 필수
map0
map1 <- leaflet() %>% setView(lng = seoul_lonlat$lon, lat = seoul_lonlat$lat, zoom = 16) %>% addTiles()
map1
mk <- geocode(enc2utf8('서울특별시 강남구 역삼동 테헤란로 212'))
lan <- mk$lon
lat <- mk$lat
msg <- '<strong><a href="http://www.multicampus.co.kr" style="text-decoration:none" >멀티캠퍼스</a></strong><hr>우리가 공부하는 곳 ㅎㅎ'
map2 <- leaflet() %>% setView(lng = mk$lon, lat = mk$lat, zoom = 16) %>% addTiles() %>% addCircles(lng = lan, lat = lat, color='green', popup = msg )
map2
seoul_lonlat <- geocode("seoul")
map0 <- leaflet() %>% setView(lng = seoul_lonlat$lon, lat = seoul_lonlat$lat, zoom = 16)  # 위치 정보 필수
map0
map1 <- leaflet() %>% setView(lng = seoul_lonlat$lon, lat = seoul_lonlat$lat, zoom = 16) %>% addTiles()
map1
map1
seoul_lonlat <- geocode("seoul")
seoul_lonlat <- geocode("seoul")
seoul_lonlat
map0 <- leaflet() %>% setView(lng = seoul_lonlat$lon, lat = seoul_lonlat$lat, zoom = 16)  # 위치 정보 필수
map0
seoul_lonlat <- geocode("seoul")
map1 <- leaflet() %>% setView(lng = seoul_lonlat$lon, lat = seoul_lonlat$lat, zoom = 16) %>% addTiles()
map1
leaflet() %>% setView(lng = seoul_lonlat$lon, lat = seoul_lonlat$lat, zoom = 16) %>% addTiles()
leaflet() %>% addTiles()
mut_df_add <- mutate_geocode(df_add, address, source="google")
map_korea <- get_map(location="Seoul", zoom=11, maptype="roadmap")
ggmap(map_korea)+
geom_point(data = mut_df_add, aes(x = lon, y = lat), colour = 'green', size = 4)+
geom_text(data=libname,aes(label=name,vjust=-1))
ggmap(map_korea)+
geom_point(data = mut_df_add, aes(x = lon, y = lat), colour = 'green', size = 4)+
geom_text(data=libname,aes(x = lon, y = lat,label=name,vjust=-1))
head(df_add)
head(libname)
df <- read.csv("지역별장애인도서관정보.csv", stringsAsFactors=F)
str(df)
head(df)
map_korea <- get_map(location="Seoul", zoom=11, maptype="roadmap")
ggmap(map_korea)
ggmap(map_korea)+
geom_point(data = df, aes(x = df$LON, y = df$LAT), colour = 'green', size = 4)
ggmap(map_korea)+
ggmap(map_korea)+
ggmap(map_korea)+
ggmap(map_korea)
ggmap(map_korea)
ggmap(map_korea)+
geom_point(data = df, aes(x = df$LON, y = df$LAT), colour = 'green', size = 4)
ggmap(map_korea)+
geom_point(data = df, aes(x = df$LON, y = df$LAT), colour = 'green', size = 4)+
geom_text(data=df,aes(x = df$LON, y = df$LAT, label=df$도서관명, vjust=-1))
ggmap(map_korea)+
geom_point(data = df, aes(x = df$LON, y = df$LAT), colour = 'green', size = 4)+
geom_text(data=df,aes(x = df$LON, y = df$LAT, label=df$도서관명))
ggmap(map_korea)+
geom_point(data = df, aes(x = df$LON, y = df$LAT), colour = 'green', size = 4)+
geom_text(data=df,aes(x = df$LON, y = df$LAT, label=df$도서관명, vjust=-1))
df <- read.csv("지역별장애인도서관정보.csv", stringsAsFactors=F)
mut_df_add <- mutate_geocode(df_add, address, source="google")
map_korea <- get_map(location="Seoul", zoom=11, maptype="roadmap")
ggmap(map_korea)+
geom_point(data = df, aes(x = df$LON, y = df$LAT), colour = 'green', size = 4)+
geom_text(data=df,aes(x = df$LON, y = df$LAT, label=df$도서관명, vjust=-1))
ggsave("map1.png")
mk <- geocode(enc2utf8('서울특별시 강남구 역삼동 테헤란로 212'))
lan <- mk$lon
lat <- mk$lat
msg <- '<strong><a href="http://www.multicampus.co.kr" style="text-decoration:none" >멀티캠퍼스</a></strong><hr>우리가 공부하는 곳 ㅎㅎ'
map2 <- leaflet() %>% setView(lng = mk$lon, lat = mk$lat, zoom = 16) %>% addTiles() %>% addCircles(lng = lan, lat = lat, color='green', popup = msg )
map2
map2 <- leaflet() %>% setView(lng = mk$lon, lat = mk$lat, zoom = 18) %>% addTiles() %>% addCircles(lng = lan, lat = lat, color='green', popup = msg )
map2
map2 <- leaflet() %>% setView(lng = mk$lon, lat = mk$lat, zoom = 5) %>% addTiles() %>% addCircles(lng = lan, lat = lat, color='green', popup = msg )
map2
map2 <- leaflet() %>% setView(lng = mk$lon, lat = mk$lat, zoom = 1) %>% addTiles() %>% addCircles(lng = lan, lat = lat, color='green', popup = msg )
map2
content1 <- paste(sep = '<br/>',"<b><a href='https://www.seoul.go.kr/main/index.jsp'>서울시청</a></b>",'아름다운 서울','박원순 시장님 화이팅!!')
map3<-leaflet() %>% addTiles() %>%  addPopups(126.97797, 37.56654, content1, options = popupOptions() )
map3
content2 <- paste(sep = '<br/>',"<b><a href='http://www.snmb.mil.kr/mbshome/mbs/snmb/'>국립서울현충원</a></b>",'1955년에 개장', '2013년 ‘서울 미래유산’으로 등재')
map3<-leaflet() %>% addTiles() %>%  addPopups(c(126.97797, 126.97797),  c(37.56654, 37.50124) , c(content1, content2), options = popupOptions(closeButton = FALSE) )
map3
map3
wifi_data = read.csv('wifi_data.csv', encoding = 'utf-8', stringsAsFactors = FALSE)
seoul_map + geom_point(data = wifi_data, aes(x = lon, y = lat)) + facet_wrap(~div)
seoul_map +
geom_polygon(data = wifi_data, aes(x = lon, y = lat, fill = ..level..),
stat = 'density2d', alpha = 0.3) +
scale_fill_gradient(low = '#C6DBEF', high = '#08306B') +
facet_wrap(~div)
head(wifi_data)
leaflet(wifi_data) %>%
setView(lng = seoul_lonlat[1],
lat = seoul_lonlat[2],
zoom = 11) %>%
addTiles() %>%
addCircles(lng = ~lon, lat = ~lat)
leaflet(wifi_data) %>%
setView(lng = seoul_lonlat[1], lat = seoul_lonlat[2], zoom = 11) %>%
addProviderTiles('Stamen.Toner') %>%
addCircles(lng = ~lon, lat = ~lat)
leaflet(wifi_data) %>%
setView(lng = seoul_lonlat[1], lat = seoul_lonlat[2], zoom = 11) %>%
addProviderTiles('CartoDB.Positron') %>%
addCircles(lng = ~lon, lat = ~lat)
leaflet(wifi_data) %>%
setView(lng = seoul_lonlat[1], lat = seoul_lonlat[2], zoom = 11) %>%
addProviderTiles('Stamen.Toner') %>%
addCircles(lng = ~lon, lat = ~lat)
leaflet(wifi_data) %>%
setView(lng = seoul_lonlat[1], lat = seoul_lonlat[2], zoom = 11) %>%
addProviderTiles('Stamen.Toner') %>%
addCircles(lng = ~lon, lat = ~lat, popup = ~div)
leaflet(wifi_data) %>%
setView(lng = seoul_lonlat[1], lat = seoul_lonlat[2], zoom = 11) %>%
addProviderTiles('Stamen.Toner') %>%
addCircles(lng = ~lon, lat = ~lat, popup = ~div)
telecom_color = colorFactor('Set1', wifi_data$div)
leaflet(wifi_data) %>%
setView(lng = seoul_lonlat[1], lat = seoul_lonlat[2], zoom = 11) %>%
addProviderTiles('Stamen.Toner') %>%
addCircles(lng = ~lon, lat=~lat, popup = ~div, color = ~telecom_color(div))
devtools::install_github("cardiomoon/Kormaps")
library(Kormaps)
names(korpopmap1)
names(korpopmap2)
names(korpopmap3)
head(korpopmap1)
head(korpopmap2)
head(korpopmap3)
head(korpopmap3)
(korpopmap3)
names(korpopmap3)
crime <- read.csv('2017crime.csv')
Encoding(names(korpopmap2))<-'UTF-8'
Encoding(korpopmap2@data$name)<-'UTF-8'
Encoding(korpopmap2@data$행정구역별_읍면동)<-'UTF-8'
korpopmap2@data <- korpopmap2@data[-26:-251,]
korpopmap2@polygons<-korpopmap2@polygons[-26:-251]
mymap <- korpopmap2@data
head(mymap)
palette1<-colorNumeric(palette = 'Oranges', domain = crime$살인_발생)
popup1 <- paste0(mymap$name,'<br> 살인 : ',crime$살인_발생, '건')
map4<-leaflet(korpopmap2) %>% addTiles() %>% setView(lat=37.559957 ,lng=126.975302 , zoom=11)%>%
addPolygons(stroke=FALSE,smoothFactor=0.2,fillOpacity=.5, popup=popup1, color=~palette1(crime$살인_발생), group='살인')
map4
Encoding(names(korpopmap2))<-'UTF-8'
names(korpopmap2)
head(korpopmap2)
mymap <- korpopmap2@data
head(mymap)
palette1<-colorNumeric(palette = 'Oranges', domain = crime$살인_발생)
palette1
map4
palette2<-colorNumeric(palette = 'Blues', domain = crime$폭력_발생)
popup2 <- paste0(mymap$name,'<br> 폭력 : ',crime$폭력_발생, '건')
map5<-leaflet(korpopmap2) %>% addTiles() %>% setView(lat=37.559957 ,lng=126.975302 , zoom=11)%>%
addPolygons(stroke=FALSE,smoothFactor=0.2,fillOpacity=.5, popup=popup2, color=~palette2(crime$폭력_발생), group='폭력')
map5
palette3<-colorNumeric(palette = 'Reds', domain = crime$범죄_발생_총합)
popup3 <- paste0(mymap$name,'<br> 폭력 : ',crime$범죄_발생_총합, '건')
map6<-leaflet(korpopmap2) %>% addTiles() %>% setView(lat=37.559957 ,lng=126.975302 , zoom=11)%>%
addPolygons(stroke=FALSE,smoothFactor=0.2,fillOpacity=.5, popup=popup3, color=~palette3(crime$범죄_발생_총합),group='총 범죄')
map6
palette3<-colorNumeric(palette = 'Reds', domain = crime$범죄_발생_총합)
popup3 <- paste0(mymap$name,'<br> 범죄총합 : ',crime$범죄_발생_총합, '건')
map6<-leaflet(korpopmap2) %>% addTiles() %>% setView(lat=37.559957 ,lng=126.975302 , zoom=11)%>%
addPolygons(stroke=FALSE,smoothFactor=0.2,fillOpacity=.5, popup=popup3, color=~palette3(crime$범죄_발생_총합),group='총 범죄')
map6
palette2<-colorNumeric(palette = 'Blues', domain = crime$폭력_발생)
popup2 <- paste0(mymap$name,'<br> 폭력 : ',crime$폭력_발생, '건')
map8<-leaflet(korpopmap2) %>% addTiles() %>% setView(lat=37.559957 ,lng=126.975302 , zoom=11)%>%
addPolygons(stroke=FALSE,smoothFactor=0.2,fillOpacity=.5, popup=popup2, color=~palette2(crime$폭력_발생), group='폭력') %>%
addPolygons(stroke=FALSE,smoothFactor=0.2,fillOpacity=.5, popup=popup3, color=~palette3(crime$범죄_발생_총합),group='총 범죄')
map8
clearGroup(map8,'폭력')
palette2<-colorNumeric(palette = 'Blues', domain = crime$폭력_발생)
popup2 <- paste0(mymap$name,'<br> 폭력 : ',crime$폭력_발생, '건')
map8<-leaflet(korpopmap2) %>% addTiles() %>% setView(lat=37.559957 ,lng=126.975302 , zoom=11)%>%
addPolygons(stroke=FALSE,smoothFactor=0.2,fillOpacity=.5, popup=popup2, color=~palette2(crime$폭력_발생), group='폭력') %>%
addPolygons(stroke=FALSE,smoothFactor=0.2,fillOpacity=.5, popup=popup3, color=~palette3(crime$범죄_발생_총합),group='총 범죄')
map8
clearGroup(map8,'폭력')
DONG<-read.csv('c:/RStudy/one.csv')
head(DONG)
head(DONG)
data(korpopmap3)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
korpopmap3@data<-korpopmap3@data[c(67:81),]
korpopmap3@polygons<-korpopmap3@polygons[c(67:81)]
korpopmap3@data<-korpopmap3@data[c(67:81),]
korpopmap3@polygons<-korpopmap3@polygons[c(67:81)]
korpopmap3@data$name<-gsub('·','',korpopmap3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong<- DONG %>%filter(구별=='광진구')
korpopmap3@data<-merge(korpopmap3@data,dong,by.x='name',sort=FALSE)
mymap <- korpopmap3@data
mypalette <- colorNumeric(palette ='RdYlBu' , domain = mymap$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',mymap$'일인가구')
map7 <- NULL
map7<-leaflet(korpopmap3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
smoothFactor = 0.2,
fillOpacity = .9,
popup = mypopup,
color = ~mypalette(mymap$일인가구)) %>%
addLegend( values = ~mymap$일인가구,
pal =mypalette ,
title = '인구수',
opacity = 1)
map7
DONG<-read.csv('c:/RStudy/one.csv')
head(DONG)
data(korpopmap3)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
korpopmap3@data<-korpopmap3@data[c(67:81),]
korpopmap3@polygons<-korpopmap3@polygons[c(67:81)]
korpopmap3@data$name<-gsub('·','',korpopmap3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong<- DONG %>%filter(구별=='광진구')
korpopmap3@data<-merge(korpopmap3@data,dong,by.x='name',sort=FALSE)
mymap <- korpopmap3@data
mypalette <- colorNumeric(palette ='RdYlBu' , domain = mymap$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',mymap$'일인가구')
map7 <- NULL
map7<-leaflet(korpopmap3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
smoothFactor = 0.2,
fillOpacity = .9,
popup = mypopup,
color = ~mypalette(mymap$일인가구)) %>%
addLegend( values = ~mymap$일인가구,
pal =mypalette ,
title = '인구수',
opacity = 1)
map7
##칼라샘플
install.packages("RColorBrewer")
install.packages("RColorBrewer")
library(RColorBrewer)
for(col_i in c('YlGn','RdPu', 'PuRd', 'BrBG', 'RdBu', 'RdYlBu', 'Set3', 'Set1')){
print(col_i)
print(brewer.pal(n = 5, name = col_i))
}
install.packages("htmlwidgets")
install.packages("htmlwidgets")
library(htmlwidgets)
saveWidget(map7, file="m.html")
map7
DONG<-read.csv('c:/RStudy/one.csv')
head(DONG)
data(korpopmap3)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
korpopmap3
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
korpopmap3@data
View(korpopmap3@data)
data(korpopmap3)
korpopmap3
View(korpopmap3@data)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
View(korpopmap3@data)
DONG<-read.csv('c:/RStudy/one.csv')
head(DONG)
data(korpopmap3)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
View(korpopmap3@data)
View(korpopmap3@data)
View(korpopmap3)
View(korpopmap3)
View(korpopmap3@data)
View(korpopmap3)
korpopmap3@data[c(67:81),]
View(korpopmap3@data)
DONG<-read.csv('c:/RStudy/one.csv')
head(DONG)
data(korpopmap3)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
View(korpopmap3@data)
korpopmap3@data<-korpopmap3@data[c(356:380),]
korpopmap3@polygons<-korpopmap3@polygons[c(356:380)]
korpopmap3@data$name<-gsub('·','',korpopmap3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong<- DONG %>%filter(구별=='강남구')
korpopmap3@data<-merge(korpopmap3@data,dong,by.x='name',sort=FALSE)
mymap <- korpopmap3@data
mypalette <- colorNumeric(palette ='RdYlBu' , domain = mymap$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',mymap$'일인가구')
map7 <- NULL
map7<-leaflet(korpopmap3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
smoothFactor = 0.2,
fillOpacity = .9,
popup = mypopup,
color = ~mypalette(mymap$일인가구)) %>%
addLegend( values = ~mymap$일인가구,
pal =mypalette ,
title = '인구수',
opacity = 1)
map7
DONG<-read.csv('c:/RStudy/one.csv')
head(DONG)
data(korpopmap3)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
korpopmap3@data<-korpopmap3@data[c(356:379),]
korpopmap3@polygons<-korpopmap3@polygons[c(356:379)]
korpopmap3@data$name<-gsub('·','',korpopmap3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong<- DONG %>%filter(구별=='강남구')
korpopmap3@data<-merge(korpopmap3@data,dong,by.x='name',sort=FALSE)
mymap <- korpopmap3@data
mypalette <- colorNumeric(palette ='RdYlBu' , domain = mymap$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',mymap$'일인가구')
map7 <- NULL
map7<-leaflet(korpopmap3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
smoothFactor = 0.2,
fillOpacity = .9,
popup = mypopup,
color = ~mypalette(mymap$일인가구)) %>%
addLegend( values = ~mymap$일인가구,
pal =mypalette ,
title = '인구수',
opacity = 1)
map7
DONG<-read.csv('c:/RStudy/one.csv')
head(DONG)
data(korpopmap3)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
korpopmap3@data<-korpopmap3@data[c(356:380),]
korpopmap3@polygons<-korpopmap3@polygons[c(356:380)]
korpopmap3@data$name<-gsub('·','',korpopmap3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong<- DONG %>%filter(구별=='강남구')
korpopmap3@data<-merge(korpopmap3@data,dong,by.x='name',sort=FALSE)
mymap <- korpopmap3@data
mypalette <- colorNumeric(palette ='RdYlBu' , domain = mymap$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',mymap$'일인가구')
map7 <- NULL
map7<-leaflet(korpopmap3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
smoothFactor = 0.2,
fillOpacity = .9,
popup = mypopup,
color = ~mypalette(mymap$일인가구)) %>%
addLegend( values = ~mymap$일인가구,
pal =mypalette ,
title = '인구수',
opacity = 1)
map7
View(korpopmap3@data)
DONG<-read.csv('c:/RStudy/one.csv')
head(DONG)
data(korpopmap3)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
View(korpopmap3@data)
korpopmap3@data<-korpopmap3@data[c(356:380),]
korpopmap3@polygons<-korpopmap3@polygons[c(356:380)]
korpopmap3@data$name<-gsub('·','',korpopmap3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong<- DONG %>%filter(구별=='강남구')
korpopmap3@data<-merge(korpopmap3@data,dong,by.x='name',sort=FALSE)
mymap <- korpopmap3@data
mypalette <- colorNumeric(palette ='RdYlBu' , domain = mymap$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',mymap$'일인가구')
map7 <- NULL
map7<-leaflet(korpopmap3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
smoothFactor = 0.2,
fillOpacity = .9,
popup = mypopup,
color = ~mypalette(mymap$일인가구)) %>%
addLegend( values = ~mymap$일인가구,
pal =mypalette ,
title = '인구수',
opacity = 1)
map7
map7<-leaflet(korpopmap3)
leaflet(korpopmap3) %>%
addTiles()
korpopmap3@data<-merge(korpopmap3@data,dong,by.x='name',sort=FALSE)
mymap <- korpopmap3@data
mypalette <- colorNumeric(palette ='RdYlBu' , domain = mymap$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',mymap$'일인가구')
map7 <- NULL
map7<-leaflet(korpopmap3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
smoothFactor = 0.2,
fillOpacity = .9,
popup = mypopup,
color = ~mypalette(mymap$일인가구)) %>%
addLegend( values = ~mymap$일인가구,
pal =mypalette ,
title = '인구수',
opacity = 1)
map7
korpopmap3@data<-korpopmap3@data[c(356:380),]
korpopmap3@polygons<-korpopmap3@polygons[c(356:380)]
View(korpopmap3@data)
DONG<-read.csv('c:/RStudy/one.csv')
head(DONG)
data(korpopmap3)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
korpopmap3@data<-korpopmap3@data[c(356:380),]
korpopmap3@polygons<-korpopmap3@polygons[c(356:380)]
View(korpopmap3@data)
DONG<-read.csv('c:/RStudy/one.csv')
head(DONG)
data(korpopmap3)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
korpopmap3@data[c(356:380),]
data(korpopmap3)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
View(korpopmap3@data)
korpopmap3@data<-korpopmap3@data[c(356:380),]
korpopmap3@polygons<-korpopmap3@polygons[c(356:380)]
View(korpopmap3@data)
View(korpopmap3@polygons)
dong
DONG<-read.csv('c:/RStudy/one.csv')
head(DONG)
data(korpopmap3)
Encoding(names(korpopmap3))<-'UTF-8'
Encoding(korpopmap3@data$name_eng)<-'UTF-8'
Encoding(korpopmap3@data$name)<-'UTF-8'
Encoding(korpopmap3@data$행정구역별_읍면동)<-'UTF-8'
korpopmap3@data<-korpopmap3@data[c(359:380),]
korpopmap3@polygons<-korpopmap3@polygons[c(359:380)]
korpopmap3@data$name<-gsub('·','',korpopmap3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong<- DONG %>%filter(구별=='강남구')
korpopmap3@data<-merge(korpopmap3@data,dong,by.x='name',sort=FALSE)
mymap <- korpopmap3@data
mypalette <- colorNumeric(palette ='RdYlBu' , domain = mymap$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',mymap$'일인가구')
map7 <- NULL
map7<-leaflet(korpopmap3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
smoothFactor = 0.2,
fillOpacity = .9,
popup = mypopup,
color = ~mypalette(mymap$일인가구)) %>%
addLegend( values = ~mymap$일인가구,
pal =mypalette ,
title = '인구수',
opacity = 1)
map7
saveWidget(map7, file="map2.html")
